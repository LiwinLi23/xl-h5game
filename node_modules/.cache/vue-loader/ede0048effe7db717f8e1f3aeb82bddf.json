{"remainingRequest":"E:\\vue\\jituanlishi\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\jituanlishi\\src\\views\\history.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\jituanlishi\\src\\views\\history.vue","mtime":1593338178609},{"path":"E:\\vue\\jituanlishi\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue\\jituanlishi\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\jituanlishi\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9Gb290ZXInDQpleHBvcnQgZGVmYXVsdHsNCglkYXRhKCl7DQoJCXJldHVybiB7DQoJCSAgICBmaWd1cmU6Jy9pbWcvZmlndXJlLnBuZycsDQoJCSAgICBmb290ZXJEYXRhOnthdWRpb0RhdGE6e3RvdGFsOicwMDowMCcsY3VycmVudDonMDA6MDAnLHBlcmNlbnRhZ2U6MCxpY29uOidpY29uLWJvZmFuZycsdGV4dDonJ30scGFnZToyLHR5cGU6J2N1bHR1cmUnfSwNCgkJICAgIGp4OicnLA0KCQkgICAgZGF0YXM6e30NCgkJfQ0KCX0sDQoJY29tcG9uZW50czp7DQoJCUZvb3Rlcg0KCX0sDQoJY3JlYXRlZChlKXsNCgkJdmFyIHRoYXQ9dGhpczsNCgl9LA0KCW1vdW50ZWQoZSl7DQoJCXZhciB0aGF0PXRoaXM7DQoJCXZhciB5ZWFyPXRoaXMuJHJvdXRlLnF1ZXJ5LnllYXIscGFnZT10aGlzLiRyb3V0ZS5xdWVyeS5wYWdlOw0KCQl0aGF0LmRhdGFzPXRoYXQuJHN0b3JlLnN0YXRlWydoaXN0b3J5Jyt5ZWFyXTsNCgkJaWYocGFnZSl7DQoJCQl0aGF0LmZvb3RlckRhdGEucGFnZT1wYWdlOw0KCQkJdGhhdC5wYWdlPXBhZ2U7DQoJCQlpZihwYWdlPT0xMil7DQoJCQkJdGhhdC5qeD0nJzsNCgkJCX0NCgkJfQ0KCQl0aGF0LnBsYXlNdXNpYygpOw0KCX0sDQoJbWV0aG9kczp7DQoJCWdvdG9OZXh0KGUpew0KCQkJdmFyIHRoYXQ9dGhpcyxwYXRoPSQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdwYXRoJyk7DQoJCQlpZih0aGF0LnBhZ2U9PTQpew0KCQkJCXRoYXQuJHN0b3JlLmNvbW1pdCgic2V0Rm9vdGVyIix7cGFnZTp0aGF0LmZvb3RlckRhdGEucGFnZSxpbmRleDp0aGF0LmZvb3RlckRhdGEucGFnZSxjaGlsZDonb24nfSk7DQoJCQl9ZWxzZXsNCgkJCQl0aGF0LiRzdG9yZS5jb21taXQoInNldEZvb3RlciIse3BhZ2U6dGhhdC5mb290ZXJEYXRhLnBhZ2UsaW5kZXg6dGhhdC5mb290ZXJEYXRhLnBhZ2V9KTsNCgkJCX0NCgkJCXRoYXQuJHJvdXRlci5yZXBsYWNlKHsgbmFtZTogcGF0aH0pDQoJCX0sDQoJCXNldFN0b3J5KGUpew0KCQkJdmFyIHRoYXQ9dGhpczsNCgkJfSwNCgkJc2V0VG90VGltZShzaG93LHRpbWUpew0KCQkJdmFyIHRoYXQ9dGhpczsNCgkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCgkJCQkJdGhhdC5zaG93MT1zaG93Ow0KCQkJfSx0aW1lKQ0KCQl9LA0KCQlwbGF5TXVzaWMoZSl7DQoJCQl2YXIgdGhhdD10aGlzLG11c2ljID0gdGhhdC5kYXRhcy5hdWRpbyx0ZXh0ID0gIHRoYXQuZGF0YXMudGV4dDsNCgkJCWlmKHRleHQpew0KCQkJCQl0aGF0LmZvb3RlckRhdGEuYXVkaW9EYXRhLnRleHQ9dGV4dDsNCgkJCQl9DQoJCQlpZihtdXNpYyl7DQoJCQkJdmFyIGF1ZGlvID0gJCgnI2F1ZGlvJylbMF07DQoJCQkJYXVkaW8uc3JjPW11c2ljOw0KCQkJCWF1ZGlvLnBsYXkoKTsNCgkJCQkvL3RoYXQucGxheVNldEZvb3RlckRhdGEoe2ljb246Imljb24temFudGluZyJ9KTsNCgkJCQl0aGF0LmZvb3RlckRhdGEuYXVkaW9EYXRhLmljb249Imljb24temFudGluZyI7DQoJCQkJLy/ovpPlh7rmgLvml7bpl7QNCgkJCQlhdWRpby5hZGRFdmVudExpc3RlbmVyKCdsb2FkZWRtZXRhZGF0YScsZnVuY3Rpb24oZSl7DQoJCQkJCXZhciBkdXJhdGlvbiA9IHNfdG9faHMoTWF0aC5mbG9vcihhdWRpby5kdXJhdGlvbikpOw0KCQkJCQkvL3RoYXQucGxheVNldEZvb3RlckRhdGEoe3RvdGFsOmR1cmF0aW9ufSk7DQoJCQkJCXRoYXQuZm9vdGVyRGF0YS5hdWRpb0RhdGEudG90YWw9ZHVyYXRpb247DQoJCQkJfSk7DQoJCQkJLy/ovpPlh7rlvZPliY3mkq3mlL7ml7bpl7QNCgkJCQlhdWRpby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJyxmdW5jdGlvbihlKXsNCgkJCQkJdmFyIGN1cnJlbnRUaW1lID0gYXVkaW8uY3VycmVudFRpbWU7DQoJCQkJCXZhciBjdXJyZW50VGltZTE9YXVkaW8uY3VycmVudFRpbWUudG9GaXhlZCgyKTsNCgkJCQkJLy92YXIgY3VycmVudFRpbWU9KHRoaXMuY3VycmVudFRpbWUvNjApLnRvRml4ZWQoMikudG9TdHJpbmcoKS5yZXBsYWNlKC9cLi9nLCI6Iik7DQoJCQkJCXZhciBjdXJyZW50VGltZT1zX3RvX2hzKE1hdGguZmxvb3IoY3VycmVudFRpbWUpKTsNCgkJCQkJdGhhdC5mb290ZXJEYXRhLmF1ZGlvRGF0YS5jdXJyZW50PWN1cnJlbnRUaW1lOw0KCQkJCQl2YXIgZHVyYXRpb24gPSBhdWRpby5kdXJhdGlvbjsNCgkJCQkJdmFyIHBlcmNlbnRhZ2UgPSAxMDAgKiBjdXJyZW50VGltZTEvZHVyYXRpb247DQoJCQkJCS8vdGhhdC5wbGF5U2V0Rm9vdGVyRGF0YSh7cGVyY2VudGFnZTpwZXJjZW50YWdlfSk7DQoJCQkJCXRoYXQuZm9vdGVyRGF0YS5hdWRpb0RhdGEucGVyY2VudGFnZT1wZXJjZW50YWdlOw0KCQkJCX0pOw0KCQkJCWZ1bmN0aW9uIHNfdG9faHMocyl7DQoJCQkJICAgIC8v6K6h566X5YiG6ZKfDQoJCQkJICAgIC8v566X5rOV77ya5bCG56eS5pWw6Zmk5LulNjDvvIznhLblkI7kuIvoiI3lhaXvvIzml6LlvpfliLDliIbpkp/mlbANCgkJCQkgICAgdmFyIGg7DQoJCQkJICAgIGggID0gICBNYXRoLmZsb29yKChzLzYwKSk7DQoJCQkJICAgIC8v6K6h566X56eSDQoJCQkJICAgIC8v566X5rOV77ya5Y+W5b6X56eSJTYw55qE5L2Z5pWw77yM5pei5b6X5Yiw56eS5pWwDQoJCQkJICAgIHMgID0gICBzJTYwOw0KCQkJCSAgICAvL+WwhuWPmOmHj+i9rOaNouS4uuWtl+espuS4sg0KCQkJCSAgICBoICAgICs9ICAgICcnOw0KCQkJCSAgICBzICAgICs9ICAgICcnOw0KCQkJCSAgICAvL+WmguaenOWPquacieS4gOS9jeaVsO+8jOWJjemdouWinuWKoOS4gOS4qjANCgkJCQkgICAgaCAgPSAgIChoLmxlbmd0aD09MSk/JzAnK2g6aDsNCgkJCQkgICAgcyAgPSAgIChzLmxlbmd0aD09MSk/JzAnK3M6czsNCgkJCQkgICAgcmV0dXJuIGgrJzonK3M7DQoJCQkJfQ0KCQkJCS8v5pKt5pS+5a6M5oiQDQoJCQkJYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLGZ1bmN0aW9uKGUpew0KCQkJCQkvL3RoYXQucGxheVNldEZvb3RlckRhdGEoe2ljb246Imljb24tYm9mYW5nIn0pOw0KCQkJCQl0aGF0LmZvb3RlckRhdGEuYXVkaW9EYXRhLmljb249Imljb24tYm9mYW5nIjsNCgkJCQkJdGhhdC5qeD0ib24iOwkNCgkJCQl9KTsNCgkJCX0NCgkJfQ0KCX0NCn0NCg=="},{"version":3,"sources":["history.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"history.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"lh-homes\">\r\n  \t<div class=\"bg\" style=\"background-image:url(img/a7.jpg)\"></div>\r\n  \t<div class=\"logo img\"><img src=\"img/nav/logo.png\" /></div>\r\n  \t<div class=\"lh-history1932\">\r\n  \t\t<img src=\"img/nav/e2.png\" />\r\n  \t\t<div class=\"text\"><img :src=\"datas.img\" /></div>\r\n  \t</div>\r\n  \t<div class=\"jx\" :class=\"jx\" data-path=\"nav\" @click=\"gotoNext($event)\"><img src=\"img/nav/return.png\" /></div>\r\n  \t<Footer :footerData=\"footerData\"></Footer>\r\n  </div>\r\n</template>\r\n<style type=\"text/css\" scoped>\r\n\t.lh-history1932{position: absolute; left:0; top:0; display: flex; align-items: center; justify-content: center; padding:0 16%; width: 100%; height: 100%;}\r\n\t.lh-history1932 .text{position: absolute; left:0; top:0; right:0;display: flex; align-items: center; justify-content: center; padding:0 30%; width: 100%; height: 100%;transform:scale(.5); opacity: 0; animation:textZoomIn cubic-bezier(0.215,.61,.355,1) 1s forwards;}\r\n\t@keyframes textZoomIn{\r\n\t\t0%{transform:scale(.5); opacity: 0;}\r\n\t\t100%{transform:scale(1); opacity: 1;}\r\n\t}\r\n\t.jx{transition:cubic-bezier(0.215,.61,.355,1) .45s;position: absolute; right:2%; bottom: 60px; width: 10%; cursor: pointer;transition:cubic-bezier(0.215,.61,.355,1) .45s; opacity: 0; visibility: hidden; transform: translateY(100%);}\r\n\t.jx.on{opacity: 1; visibility: visible; transform: translateY(0);}\r\n</style>\r\n<script>\r\nimport Footer from '@/components/Footer'\r\nexport default{\r\n\tdata(){\r\n\t\treturn {\r\n\t\t    figure:'/img/figure.png',\r\n\t\t    footerData:{audioData:{total:'00:00',current:'00:00',percentage:0,icon:'icon-bofang',text:''},page:2,type:'culture'},\r\n\t\t    jx:'',\r\n\t\t    datas:{}\r\n\t\t}\r\n\t},\r\n\tcomponents:{\r\n\t\tFooter\r\n\t},\r\n\tcreated(e){\r\n\t\tvar that=this;\r\n\t},\r\n\tmounted(e){\r\n\t\tvar that=this;\r\n\t\tvar year=this.$route.query.year,page=this.$route.query.page;\r\n\t\tthat.datas=that.$store.state['history'+year];\r\n\t\tif(page){\r\n\t\t\tthat.footerData.page=page;\r\n\t\t\tthat.page=page;\r\n\t\t\tif(page==12){\r\n\t\t\t\tthat.jx='';\r\n\t\t\t}\r\n\t\t}\r\n\t\tthat.playMusic();\r\n\t},\r\n\tmethods:{\r\n\t\tgotoNext(e){\r\n\t\t\tvar that=this,path=$(e.currentTarget).data('path');\r\n\t\t\tif(that.page==4){\r\n\t\t\t\tthat.$store.commit(\"setFooter\",{page:that.footerData.page,index:that.footerData.page,child:'on'});\r\n\t\t\t}else{\r\n\t\t\t\tthat.$store.commit(\"setFooter\",{page:that.footerData.page,index:that.footerData.page});\r\n\t\t\t}\r\n\t\t\tthat.$router.replace({ name: path})\r\n\t\t},\r\n\t\tsetStory(e){\r\n\t\t\tvar that=this;\r\n\t\t},\r\n\t\tsetTotTime(show,time){\r\n\t\t\tvar that=this;\r\n\t\t\tsetTimeout(function(){\r\n\t\t\t\t\tthat.show1=show;\r\n\t\t\t},time)\r\n\t\t},\r\n\t\tplayMusic(e){\r\n\t\t\tvar that=this,music = that.datas.audio,text =  that.datas.text;\r\n\t\t\tif(text){\r\n\t\t\t\t\tthat.footerData.audioData.text=text;\r\n\t\t\t\t}\r\n\t\t\tif(music){\r\n\t\t\t\tvar audio = $('#audio')[0];\r\n\t\t\t\taudio.src=music;\r\n\t\t\t\taudio.play();\r\n\t\t\t\t//that.playSetFooterData({icon:\"icon-zanting\"});\r\n\t\t\t\tthat.footerData.audioData.icon=\"icon-zanting\";\r\n\t\t\t\t//输出总时间\r\n\t\t\t\taudio.addEventListener('loadedmetadata',function(e){\r\n\t\t\t\t\tvar duration = s_to_hs(Math.floor(audio.duration));\r\n\t\t\t\t\t//that.playSetFooterData({total:duration});\r\n\t\t\t\t\tthat.footerData.audioData.total=duration;\r\n\t\t\t\t});\r\n\t\t\t\t//输出当前播放时间\r\n\t\t\t\taudio.addEventListener('timeupdate',function(e){\r\n\t\t\t\t\tvar currentTime = audio.currentTime;\r\n\t\t\t\t\tvar currentTime1=audio.currentTime.toFixed(2);\r\n\t\t\t\t\t//var currentTime=(this.currentTime/60).toFixed(2).toString().replace(/\\./g,\":\");\r\n\t\t\t\t\tvar currentTime=s_to_hs(Math.floor(currentTime));\r\n\t\t\t\t\tthat.footerData.audioData.current=currentTime;\r\n\t\t\t\t\tvar duration = audio.duration;\r\n\t\t\t\t\tvar percentage = 100 * currentTime1/duration;\r\n\t\t\t\t\t//that.playSetFooterData({percentage:percentage});\r\n\t\t\t\t\tthat.footerData.audioData.percentage=percentage;\r\n\t\t\t\t});\r\n\t\t\t\tfunction s_to_hs(s){\r\n\t\t\t\t    //计算分钟\r\n\t\t\t\t    //算法：将秒数除以60，然后下舍入，既得到分钟数\r\n\t\t\t\t    var h;\r\n\t\t\t\t    h  =   Math.floor((s/60));\r\n\t\t\t\t    //计算秒\r\n\t\t\t\t    //算法：取得秒%60的余数，既得到秒数\r\n\t\t\t\t    s  =   s%60;\r\n\t\t\t\t    //将变量转换为字符串\r\n\t\t\t\t    h    +=    '';\r\n\t\t\t\t    s    +=    '';\r\n\t\t\t\t    //如果只有一位数，前面增加一个0\r\n\t\t\t\t    h  =   (h.length==1)?'0'+h:h;\r\n\t\t\t\t    s  =   (s.length==1)?'0'+s:s;\r\n\t\t\t\t    return h+':'+s;\r\n\t\t\t\t}\r\n\t\t\t\t//播放完成\r\n\t\t\t\taudio.addEventListener('ended',function(e){\r\n\t\t\t\t\t//that.playSetFooterData({icon:\"icon-bofang\"});\r\n\t\t\t\t\tthat.footerData.audioData.icon=\"icon-bofang\";\r\n\t\t\t\t\tthat.jx=\"on\";\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n</script>\r\n"]}]}